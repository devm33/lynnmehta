"undefined"==typeof wdi_front&&(wdi_front={type:"not_declared"}),wdi_front.detectEvent=function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())?"touchend":"click"};var wdi_error_show=!1,wdi_error_init=!1;function wdi_baseName(e){var t=e.substr(e.lastIndexOf("/"));return e.replace(t,"")}wdi_front.escape_tags=function(e){return void 0===e&&(e=""),e=e.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;")},wdi_front.show_alert=function(e,t,r){if(r=jQuery("#wdi_feed_"+r.feed_row.wdi_feed_counter),400===t.meta.code&&"APINotAllowedError"===t.meta.error_type){if(void 0!==t.wdi_current_feed_name){var i=t.wdi_current_feed_name,a=r.find(".wdi_private_feed_names");void 0===a.attr("wdi_first_private_user")?a.attr("wdi_first_private_user",1):i=", "+i,a.append(i),r.find(".wdi_private_feed_error").removeClass("wdi_hidden")}r.find(".wdi_spinner").remove()}if(void 0!==r&&"APINotAllowedError"!=t.meta.error_type){r.find(".wdi_spinner").remove(),wdi_error_show=!0;var d=r.find(".wdi_js_error"),o=r.find(".wdi_token_error");0!=t&&null!=typeof t.meta&&"OAuthAccessTokenException"===t.meta.error_type?(o.removeClass("wdi_hidden"),"1"!=wdi_front_messages.wdi_token_error_flag&&jQuery.ajax({type:"POST",url:wdi_url.ajax_url,dataType:"json",data:{action:"wdi_token_flag",wdi_token_flag_nonce:wdi_front_messages.wdi_token_flag_nonce},success:function(e){}})):(d.removeClass("wdi_js_error"),d.addClass("wdi_js_error_no_animate"),jQuery(".wdi_js_error_no_animate").show()),wdi_front_messages.show_alerts||console.log("%c"+e,"color:#cc0000;")}wdi_error_show=!0},wdi_front.globalInit=function(){var e=wdi_front.feed_counter,t=0;if(void 0!==wdi_ajax.ajax_response)t=wdi_feed_counter_init.wdi_feed_counter_init;for(var r=t;r<=e;r++)if(0!==jQuery("#wdi_feed_"+r).length){var i=new WDIFeed(window["wdi_feed_"+r]);i.instagram=new WDIInstagram,i.instagram.filterArguments={feed:i},i.instagram.filters=[],i.instagram.addToken(i.feed_row.access_token),wdi_front.access_token=i.feed_row.access_token,i.dataStorageRaw=[],i.dataStorage=[],i.dataStorageList=[],i.allResponseLength=0,i.currentResponseLength=0,i.temproraryUsersData=[],i.removedUsers=0,i.nowLoadingImages=!0,i.imageIndex=0,i.resIndex=0,i.currentPage=1,i.userSortFlags=[],i.customFilterChanged=!1,i.maxConditionalFiltersRequestCount=10,i.instagramRequestCounter=0,i.mediaRequestsDone=!1,i.conditionalFilterBuffer=[],i.stopInfiniteScrollFlag=!1,"masonry"==i.feed_row.feed_type&&(i.displayedData=[]),"pagination"==i.feed_row.feed_display_view?(i.feed_row.resort_after_load_more=0,"image_browser"!=i.feed_row.feed_type?(i.feed_row.load_more_number=parseInt(i.feed_row.pagination_per_page_number),i.feed_row.number_of_photos=(1+parseInt(i.feed_row.pagination_preload_number))*i.feed_row.load_more_number):(i.feed_row.number_of_photos=1+parseInt(i.feed_row.image_browser_preload_number),i.feed_row.load_more_number=parseInt(i.feed_row.image_browser_load_number)),i.freeSpaces=(Math.floor(i.feed_row.pagination_per_page_number/i.feed_row.number_of_columns)+1)*i.feed_row.number_of_columns-i.feed_row.pagination_per_page_number):i.freeSpaces=0,i.galleryBox=function(e){wdi_spider_createpopup(wdi_url.ajax_url+"?gallery_id="+this.feed_row.id+"&image_id="+e,this.feed_row.wdi_feed_counter,this.feed_row.lightbox_width,this.feed_row.lightbox_height,1,"testpopup",5,this,e)},wdi_responsive.columnControl(i),"masonry"==i.feed_row.feed_type&&jQuery(window).trigger("resize"),wdi_front.bindEvents(i),window["wdi_feed_"+r]=i,wdi_front.init(i)}},wdi_front.init=function(e){if(jQuery(".wdi_js_error").hide(),e.photoCounter=e.feed_row.number_of_photos,"liked"==e.feed_row.liked_feed)e.feed_users=["self"];else{if(!wdi_front.isJsonString(e.feed_row.feed_users))return void wdi_front.show_alert(wdi_front_messages.invalid_users_format,!1,e);e.feed_users=JSON.parse(e.feed_row.feed_users)}var t=[];void 0!==window.wdi_all_tags&&(t=window.wdi_all_tags);for(var r=0;r<e.feed_users.length;r++)"#"===e.feed_users[r].username[0]&&void 0!==e.feed_users[r].tag_id&&(t[e.feed_users[r].tag_id]=e.feed_users[r]);window.wdi_all_tags=t,e.dataCount=e.feed_users.length;var i=wdi_front.getFeedItemResolution(e);e.feedImageResolution=i.image,e.feedVideoResolution=i.video;for(var a=0;a<e.dataCount;a++)wdi_front.instagramRequest(a,e);e.feed_row.number_of_photos>0&&wdi_front.ajaxLoader(e),"1"===e.feed_row.display_header&&wdi_front.show("header",e)},wdi_front.getFeedItemResolution=function(e){var t={image:"standard_resolution",video:"standard_resolution"};if("thumbnail"===e.feed_row.feed_resolution)return{image:"thumbnail",video:"low_bandwidth"};if("low"===e.feed_row.feed_resolution)return{image:"low_resolution",video:"low_resolution"};if("standard"===e.feed_row.feed_resolution)return{image:"standard_resolution",video:"standard_resolution"};var r=jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter).find(".wdi_feed_wrapper");r.append('<div class="wdi_feed_item" id="wdi_feed_item_example"></div>'),wdi_responsive.columnControl(e,1);var i=r.attr("wdi-res").split("wdi_col_");if(r.find("#wdi_feed_item_example").remove(),2!==i.length)return t;var a=parseInt(i[1]);if(a<=0)return t;var d=r.width()/a-10,o=t;return d<=150?(o.image="thumbnail",o.video="low_bandwidth"):d>150&&d<=320?(o.image="low_resolution",o.video="low_resolution"):(o.image="standard_resolution",o.video="standard_resolution"),o},wdi_front.isJsonString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},wdi_front.instagramRequest=function(e,t){var r=this,i=t.feed_users;"string"==typeof i[e]&&"self"===i[e]?t.instagram.getRecentLikedMedia({success:function(e){void 0!==e.meta&&void 0!==e.meta.error_type&&wdi_front.show_alert(!1,e,t),t.mediaRequestsDone=!0,0!=(e=r.checkMediaResponse(e,t))&&r.saveSelfUserData(e,t)}}):"hashtag"==this.getInputType(i[e].username)?t.instagram.getTagRecentMedia(this.stripHashtag(i[e].username),{success:function(i){void 0!==i.meta&&void 0!==i.meta.error_type&&wdi_front.show_alert(!1,i,t),t.mediaRequestsDone=!0,0!=(i=r.checkMediaResponse(i,t))&&r.saveUserData(i,t.feed_users[e],t)}},null,t.feed_row.hashtag_top_recent):"user"==this.getInputType(i[e].username)&&t.instagram.getUserMedia({user_id:i[e].id,success:function(a){void 0!==a.meta&&void 0!==a.meta.error_type&&(a.wdi_current_feed_name=i[e].username,wdi_front.show_alert(!1,a,t)),t.mediaRequestsDone=!0,0!=(a=r.checkMediaResponse(a,t))&&r.saveUserData(a,t.feed_users[e],t)}})},wdi_front.isHashtag=function(e){return"#"===e[0]},wdi_front.saveUserData=function(e,t,r){if(e.username=t.username,e.user_id=t.id,"#"===e.user_id[0]&&(e.data=wdi_front.appendRequestHashtag(e.data,e.user_id)),r.usersData.push(e),r.currentResponseLength=wdi_front.getArrayContentLength(r.usersData,"data"),r.allResponseLength+=r.currentResponseLength,r.dataCount==r.usersData.length)if(r.currentResponseLength<r.feed_row.number_of_photos&&!wdi_front.userHasNoPhoto(r))wdi_front.loadMore("initial-keep",r);else if(wdi_front.displayFeed(r),wdi_front.applyFilters(r),!wdi_front.activeUsersCount(r)&&"load_more_btn"==r.feed_row.feed_display_view){var i=jQuery("#wdi_feed_"+r.feed_row.wdi_feed_counter);i.find(".wdi_load_more").addClass("wdi_hidden"),i.find(".wdi_spinner").addClass("wdi_hidden")}},wdi_front.saveSelfUserData=function(e,t){if(e.user_id="",e.username="",t.usersData.push(e),t.currentResponseLength=wdi_front.getArrayContentLength(t.usersData,"data"),t.allResponseLength+=t.currentResponseLength,t.dataCount==t.usersData.length)if(t.currentResponseLength<t.feed_row.number_of_photos&&!wdi_front.userHasNoPhoto(t))wdi_front.loadMore("initial-keep",t);else if(wdi_front.displayFeed(t),wdi_front.applyFilters(t),!wdi_front.activeUsersCount(t)&&"load_more_btn"==t.feed_row.feed_display_view){var r=jQuery("#wdi_feed_"+t.feed_row.wdi_feed_counter);r.find(".wdi_load_more").addClass("wdi_hidden"),r.find(".wdi_spinner").addClass("wdi_hidden")}},wdi_front.userHasNoPhoto=function(e,t){var r=0,i=e.usersData;void 0!==t&&(i=t);for(var a=0;a<i.length;a++)void 0===i[a].pagination&&(i[a].pagination=[]),"liked"===e.feed_row.liked_feed?void 0===i[a].pagination.next_max_like_id&&r++:void 0===i[a].pagination.next_max_id&&r++;return r==i.length?1:0},wdi_front.appendRequestHashtag=function(e,t){for(var r=0;r<e.length;r++)e[r].wdi_hashtag=t;return e},wdi_front.displayFeed=function(e,t){if(0==e.customFilterChanged)var r=wdi_front.feedSort(e,t);var i=e.customFilterChanged;if(1==e.customFilterChanged){r=e.customFilteredData;e.parsedData=wdi_front.parseLighboxData(e,!0)}"1"!=e.feed_row.resort_after_load_more?0==e.customFilterChanged&&(e.dataStorageList=e.dataStorageList.concat(r)):0==e.customFilterChanged&&(e.dataStorageList=r),"masonry"==e.feed_row.feed_type&&wdi_front.masonryDisplayFeedItems(r,e),"thumbnails"!=e.feed_row.feed_type&&"blog_style"!=e.feed_row.feed_type&&"image_browser"!=e.feed_row.feed_type||wdi_front.displayFeedItems(r,e),wdi_front.getDataLength(e)<e.photoCounter&&!i&&e.instagramRequestCounter<=e.maxConditionalFiltersRequestCount&&!wdi_front.allDataHasFinished(e)?wdi_front.loadMore("",e):wdi_front.allImagesLoaded(e),e.instagramRequestCounter>e.maxConditionalFiltersRequestCount&&(wdi_front.allImagesLoaded(e),0==r.length&&(e.stopInfiniteScrollFlag=!0)),"pagination"==e.feed_row.feed_display_view&&e.currentPage<e.paginator&&jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter).find("#wdi_last_page").removeClass("wdi_disabled"),e.instagramRequestCounter=0,e.conditionalFilterBuffer=[],wdi_front.updateUsersImages(e)},wdi_front.updateUsersImages=function(e){jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter).find(".wdi_single_user .wdi_user_img_wrap img").each(function(){if(jQuery(this).attr("src")==wdi_url.plugin_url+"images/missing.png"||""==jQuery(this).attr("src")){if("liked"==e.feed_row.liked_feed)return;for(var t=0;t<e.usersData.length;t++)e.usersData[t].username==jQuery(this).parent().parent().find("h3").text()&&0!=e.usersData[t].data.length&&jQuery(this).attr("src",e.usersData[t].data[0].images.thumbnail.url)}})},wdi_front.masonryDisplayFeedItems=function(e,t){var r=[],i=[];if(0!=jQuery("#wdi_feed_"+t.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").length){jQuery("#wdi_feed_"+t.feed_row.wdi_feed_counter+" .wdi_masonry_column").each(function(){1==t.feed_row.resort_after_load_more&&(jQuery(this).html(""),t.imageIndex=0),1==t.customFilterChanged&&(jQuery(this).html(""),t.imageIndex=0),"pagination"==t.feed_row.feed_display_view?r.push(0):r.push(jQuery(this).height()),i.push(jQuery(this))}),1==t.customFilterChanged&&(t.customFilterChanged=!1);for(var a=0;a<e.length;a++)if("object"!=typeof e[a].videos||null!=e[a].videos.standard_resolution){if(t.displayedData.push(e[a]),"image"==e[a].type)var d=wdi_front.getPhotoTemplate(t);else if(e[a].hasOwnProperty("videos")||"video"==e[a].type)d=wdi_front.getVideoTemplate(t);else d=wdi_front.getSliderTemplate(t);var o=e[a],n=d(wdi_front.createObject(o,t)),s=wdi_front.array_min(r),_=wdi_front.getImageResolution(e[a]);i[s.index].html(i[s.index].html()+n),r[s.index]+=i[s.index].width()*_,t.imageIndex++,"pagination"==t.feed_row.feed_display_view&&((a+1)%t.feed_row.pagination_per_page_number==0?t.resIndex+=t.freeSpaces+1:t.resIndex++)}t.wdi_loadedImages=0;var f=!1;t.wdi_load_count=a;var l=t.feed_row.wdi_feed_counter;jQuery("#wdi_feed_"+l+" img.wdi_img").on("load",function(){t.wdi_loadedImages++,w(),!1===f&&(wdi_responsive.columnControl(t,1),f=!0)});w(),1==t.paginatorNextFlag&&wdi_front.updatePagination(t,"next"),t.infiniteScrollFlag=!1}function w(){t.wdi_load_count===t.wdi_loadedImages&&0!=t.wdi_loadedImages&&(t.loadedImages=0,t.wdi_load_count=0,wdi_front.allImagesLoaded(t))}},wdi_front.getImageResolution=function(e){var t=e.images.standard_resolution.width;return e.images.standard_resolution.height/t},wdi_front.getDataLength=function(e,t){var r=0;if(void 0===t)for(var i=0;i<e.dataStorage.length;i++)r+=e.dataStorage[i].length;else for(i=0;i<t.length;i++)r+=t[i].length;return r},wdi_front.getArrayContentLength=function(e,t){for(var r=0,i=0;i<e.length;i++)"finished"!=e[i].finished&&(r+=e[i][t].length);return r},wdi_front.displayFeedItems=function(e,t){if(0!=jQuery("#wdi_feed_"+t.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").length){var r=t.feed_row.wdi_feed_counter,i=jQuery("#wdi_feed_"+r+" .wdi_feed_wrapper");"1"===t.feed_row.resort_after_load_more&&(i.html(""),t.imageIndex=0),1==t.customFilterChanged&&(i.html(""),t.imageIndex=0,t.customFilterChanged=!1);wdi_front.getImgCount(t),e.length;if("pagination"==t.feed_row.feed_display_view){var a=t.feed_row.load_more_number;"image_browser"==t.feed_row.feed_type&&(a=1),(jQuery("#wdi_feed_"+t.feed_row.wdi_feed_counter+' [wdi_page="'+(t.currentPage-1)+'"]').length<a||0==e.length)&&(t.currentPage=--t.currentPage<=1?1:t.currentPage)}for(var d=0;d<e.length;d++)if("object"!=typeof e[d].videos||null!=e[d].videos.standard_resolution){if("image"==e[d].type)var o=wdi_front.getPhotoTemplate(t);else if(e[d].hasOwnProperty("videos"))o=wdi_front.getVideoTemplate(t);else o=wdi_front.getSliderTemplate(t);var n=e[d],s=o(wdi_front.createObject(n,t));i.html(i.html()+s),t.imageIndex++,"pagination"==t.feed_row.feed_display_view&&((d+1)%t.feed_row.pagination_per_page_number==0?t.resIndex+=t.freeSpaces+1:t.resIndex++)}t.wdi_loadedImages=0;var _=!1;t.wdi_load_count=d;r=t.feed_row.wdi_feed_counter,i=jQuery("#wdi_feed_"+r+" img.wdi_img").on("load",function(){t.wdi_loadedImages++,t.wdi_load_count===t.wdi_loadedImages&&0!=t.wdi_loadedImages&&(t.loadedImages=0,t.wdi_load_count=0,wdi_front.allImagesLoaded(t)),!1===_&&(wdi_responsive.columnControl(t,1),_=!0)});1==t.paginatorNextFlag&&wdi_front.updatePagination(t,"next"),t.infiniteScrollFlag=!1}},wdi_front.checkFeedFinished=function(e){for(var t=0;t<e.usersData.length;t++)if(void 0===e.usersData[t].finished)return!1;return!0},wdi_front.sortingOperator=function(e,t){var r;switch(e){case"date":switch(t){case"asc":r=function(e,t){return e.created_time>t.created_time?1:-1};break;case"desc":r=function(e,t){return e.created_time>t.created_time?-1:1}}break;case"likes":switch(t){case"asc":r=function(e,t){return e.likes.count<t.likes.count?-1:1};break;case"desc":r=function(e,t){return e.likes.count<t.likes.count?1:-1}}break;case"comments":switch(t){case"asc":r=function(e,t){return e.comments.count<t.comments.count?-1:1};break;case"desc":r=function(e,t){return e.comments.count<t.comments.count?1:-1}}break;case"random":r=function(e,t){return Math.random()>.5?1:-1}}return r},wdi_front.feedSort=function(e,t){var r=e.feed_row.sort_images_by,i=e.feed_row.display_order;"1"===e.feed_row.resort_after_load_more?e.data=e.data.concat(wdi_front.smartPicker(e,t)):e.data=wdi_front.smartPicker(e,t);var a=wdi_front.sortingOperator(r,i);return e.data.sort(a),e.data},wdi_front.smartPicker=function(e,t){var r=[],i=0,a=[],d=Math.ceil(e.feed_row.number_of_photos/e.usersData.length),o=parseInt(e.feed_row.number_of_photos),n=0;""!=t&&void 0!==t&&null!=t&&(o=parseInt(t),d=Math.ceil(o/wdi_front.activeUsersCount(e)));e.storeRawData(e.usersData,"dataStorageRaw");for(var s=e.dataStorageRaw.sort(function(e,t){return e.length()>t.length()?1:-1}),_=e.usersData.sort(function(e,t){return e.data.length>t.data.length?1:-1}),f=0;f<_.length;f++)if(n+=d,s[f].length()<=n)n-=s[f].length(),r.push(s[f].getData(s[f].length())),i+=r[r.length-1].length;else{i+n>o&&(n=o-i);var l=[];!1===e.auto_trigger?l=l.concat(s[f].getData(n)):l.length+wdi_front.getDataLength(e)+wdi_front.getDataLength(e,r)<e.feed_row.number_of_photos&&(l=l.concat(s[f].getData(n))),n=0,i+=l.length,r.push(l)}for(f=0;f<r.length;f++)void 0===e.dataStorage[f]?e.dataStorage.push(r[f]):e.dataStorage[f]=e.dataStorage[f].concat(r[f]);for(e.parsedData=wdi_front.parseLighboxData(e),f=0;f<r.length;f++)a=a.concat(r[f]);return a},wdi_front.createObject=function(e,t){var r=null!=e.caption?e.caption.text:"&nbsp",i=wdi_url.plugin_url+"images/video_missing.png";if("video"==e.type&&e.videos[t.feedVideoResolution]&&null!=e.videos[t.feedVideoResolution].url&&(i=e.hasOwnProperty("videos")?e.videos[t.feedVideoResolution].url:""),void 0===e.images[t.feedImageResolution])var a=wdi_url.plugin_url+"images/missing.png";else if("carousel"==e.type&&void 0===e.images[t.feedImageResolution].url)a=e.carousel_media[0].images[t.feedImageResolution].url;else a=e.images[t.feedImageResolution].url;var d=t.imageIndex,o="square",n=e.images.standard_resolution.height,s=e.images.standard_resolution.width;n>s?o="portrait":n<s&&(o="landscape");var _=e.user.username;return""===_&&(_="no_user"),{id:e.id,caption:wdi_front.escape_tags(r),image_url:a,likes:e.likes.count,comments:e.comments.count,wdi_index:d,wdi_res_index:t.resIndex,wdi_media_user:_,link:e.link,video_url:i,wdi_username:_,wdi_shape:o}},wdi_front.setPage=function(e){var t=e.feed_row.feed_display_view,r=e.feed_row.feed_type;if("pagination"!=t)return"";var i=e.imageIndex;if("image_browser"==r)var a=1;else a=Math.abs(e.feed_row.pagination_per_page_number);return e.paginator=Math.ceil((i+1)/a),e.paginator},wdi_front.getPhotoTemplate=function(e){var t=wdi_front.setPage(e),r="",i="",a="",d="",o="tenweb-i-arrows-out";"blog_style"!=e.feed_row.feed_type&&"image_browser"!=e.feed_row.feed_type||(o=""),""!=t?(i='wdi_page="'+t+'"',sourceAttr="src"):sourceAttr="src",""!=t&&1!=t&&(r="wdi_hidden"),1==e.feed_row.show_full_description&&"masonry"==e.feed_row.feed_type&&(r+=" wdi_full_caption");switch("blog_style"!==e.feed_row.feed_type&&("masonry"==e.feed_row.feed_type?"wdi_responsive.showMasonryCaption(jQuery(this),"+e.feed_row.wdi_feed_counter+");":"wdi_responsive.showCaption(jQuery(this),"+e.feed_row.wdi_feed_counter+");"),e.feed_row.feed_item_onclick){case"lightbox":a="onclick=wdi_feed_"+e.feed_row.wdi_feed_counter+".galleryBox('<%=id%>')";break;case"instagram":a="onclick=\"window.open ('<%= link%>','_blank')\"",d="wdi_hover_off",o="";break;case"custom_redirect":a="onclick=\"window.open ('"+e.feed_row.redirect_url+"','_self')\"",d="wdi_hover_off",o="";break;case"none":a="",d="wdi_cursor_off wdi_hover_off",o=""}var n='<div class="wdi_feed_item '+r+'"  wdi_index=<%= wdi_index%>  wdi_res_index=<%= wdi_res_index%> wdi_media_user=<%= wdi_media_user%> '+i+' wdi_type="image" id="wdi_'+e.feed_row.wdi_feed_counter+"_<%=id%>\"><div class=\"wdi_photo_wrap\"><div class=\"wdi_photo_wrap_inner\"><div class=\"wdi_photo_img <%= wdi_shape == 'square' ? 'wdi_shape_square' : (wdi_shape == 'portrait' ? 'wdi_shape_portrait' : (wdi_shape == 'landscape' ? 'wdi_shape_landscape' : 'wdi_shape_square') ) %>\"><img class=\"wdi_img\" "+sourceAttr+'="<%=image_url%>" alt="feed_image" onerror="wdi_front.brokenImageHandler(this);"><div class="wdi_photo_overlay '+d+'" ><div class="wdi_thumb_icon" '+a+' style="display:table;width:100%;height:100%;"><div style="display:table-cell;vertical-align:middle;text-align:center;color:white;"><i class="tenweb-i '+o+'"></i></div></div></div></div></div></div>';return n+="</div>",_.template(n)},wdi_front.getSliderTemplate=function(e){var t=wdi_front.setPage(e),r="",i="",a="",d="",o="tenweb-i-clone";"blog_style"!=e.feed_row.feed_type&&"image_browser"!=e.feed_row.feed_type||(o=""),""!=t?(i='wdi_page="'+t+'"',sourceAttr="src"):sourceAttr="src",""!=t&&1!=t&&(r="wdi_hidden"),1==e.feed_row.show_full_description&&"masonry"==e.feed_row.feed_type&&(r+=" wdi_full_caption");switch("blog_style"!==e.feed_row.feed_type&&("masonry"==e.feed_row.feed_type?"wdi_responsive.showMasonryCaption(jQuery(this),"+e.feed_row.wdi_feed_counter+");":"wdi_responsive.showCaption(jQuery(this),"+e.feed_row.wdi_feed_counter+");"),e.feed_row.feed_item_onclick){case"lightbox":a="onclick=wdi_feed_"+e.feed_row.wdi_feed_counter+".galleryBox('<%=id%>')";break;case"instagram":a="onclick=\"window.open ('<%= link%>','_blank')\"",d="wdi_hover_off",o="tenweb-i-clone";break;case"custom_redirect":a="onclick=\"window.open ('"+e.feed_row.redirect_url+"','_self')\"",d="wdi_hover_off",o="";break;case"none":a="",d="wdi_cursor_off wdi_hover_off",o=""}var n='<div class="wdi_feed_item '+r+'"  wdi_index=<%= wdi_index%>  wdi_res_index=<%= wdi_res_index%> wdi_media_user=<%= wdi_media_user%> '+i+' wdi_type="slideshow" id="wdi_'+e.feed_row.wdi_feed_counter+"_<%=id%>\"><div class=\"wdi_photo_wrap\"><div class=\"wdi_photo_wrap_inner\"><div class=\"wdi_photo_img <%= wdi_shape == 'square' ? 'wdi_shape_square' : (wdi_shape == 'portrait' ? 'wdi_shape_portrait' : (wdi_shape == 'landscape' ? 'wdi_shape_landscape' : 'wdi_shape_square') ) %>\"><img class=\"wdi_img\" "+sourceAttr+'="<%=image_url%>" alt="feed_image" onerror="wdi_front.brokenImageHandler(this);"><div class="wdi_photo_overlay '+d+'" ><div class="wdi_thumb_icon" '+a+' style="display:table;width:100%;height:100%;"><div style="display:table-cell;vertical-align:middle;text-align:center;color:white;"><i class="tenweb-i '+o+'"></i></div></div></div></div></div></div>';return n+="</div>",_.template(n)},wdi_front.replaceToVideo=function(e,t,r){overlayHtml="<video style='width:auto !important; height:auto !important; max-width:100% !important; max-height:100% !important; margin:0 !important;' controls=''><source src='"+e+"' type='video/mp4'>Your browser does not support the video tag. </video>",jQuery("#wdi_feed_"+r+' [wdi_index="'+t+'"] .wdi_photo_wrap_inner').html(overlayHtml),jQuery("#wdi_feed_"+r+' [wdi_index="'+t+'"] .wdi_photo_wrap_inner video').get(0).play()},wdi_front.getVideoTemplate=function(e){var t,r=wdi_front.setPage(e),i="",a="",d="tenweb-i-play",o="",n="";""!=r?(a='wdi_page="'+r+'"',t="src"):t="src",""!=r&&1!=r&&(i="wdi_hidden"),1==e.feed_row.show_full_description&&"masonry"==e.feed_row.feed_type&&(i+=" wdi_full_caption");switch("blog_style"!==e.feed_row.feed_type&&("masonry"==e.feed_row.feed_type?"wdi_responsive.showMasonryCaption(jQuery(this),"+e.feed_row.wdi_feed_counter+");":"wdi_responsive.showCaption(jQuery(this),"+e.feed_row.wdi_feed_counter+");"),e.feed_row.feed_item_onclick){case"lightbox":o="onclick=wdi_feed_"+e.feed_row.wdi_feed_counter+".galleryBox('<%=id%>')";break;case"instagram":o="onclick=\"window.open ('<%= link%>','_blank')\"",n="wdi_hover_off",d="tenweb-i-play";break;case"custom_redirect":o="onclick=\"window.open ('"+e.feed_row.redirect_url+"','_self')\"",n="wdi_hover_off",d="";break;case"none":n="wdi_cursor_off wdi_hover_off",d="","blog_style"!=e.feed_row.feed_type&&"image_browser"!=e.feed_row.feed_type||(o="onclick=wdi_front.replaceToVideo('<%= video_url%>','<%= wdi_index%>',"+e.feed_row.wdi_feed_counter+")",n="",d="tenweb-i-play")}var s='<div class="wdi_feed_item '+i+'"  wdi_index=<%= wdi_index%> wdi_res_index=<%= wdi_res_index%> wdi_media_user=<%= wdi_media_user%> '+a+' wdi_type="image" id="wdi_'+e.feed_row.wdi_feed_counter+"_<%=id%>\"><div class=\"wdi_photo_wrap\"><div class=\"wdi_photo_wrap_inner\"><div class=\"wdi_photo_img <%= wdi_shape == 'square' ? 'wdi_shape_square' : (wdi_shape == 'portrait' ? 'wdi_shape_portrait' : (wdi_shape == 'landscape' ? 'wdi_shape_landscape' : 'wdi_shape_square') ) %>\"><img class=\"wdi_img\" "+t+'="<%=image_url%>" alt="feed_image" onerror="wdi_front.brokenImageHandler(this);"><div class="wdi_photo_overlay '+n+'" '+o+'><div class="wdi_thumb_icon" style="display:table;width:100%;height:100%;"><div style="display:table-cell;vertical-align:middle;text-align:center;color:white;"><i class="tenweb-i '+d+'"></i></div></div></div></div></div></div>';return s+="</div>",_.template(s)},wdi_front.bindEvents=function(e){0!=jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").length&&("load_more_btn"==e.feed_row.feed_display_view&&jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+" .wdi_load_more_container").on(wdi_front.clickOrTouch,function(){wdi_front.loadMore(jQuery(this).find(".wdi_load_more_wrap"))}),"pagination"==e.feed_row.feed_display_view&&(jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+" #wdi_next").on(wdi_front.clickOrTouch,function(){wdi_front.paginatorNext(jQuery(this),e)}),jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+" #wdi_prev").on(wdi_front.clickOrTouch,function(){wdi_front.paginatorPrev(jQuery(this),e)}),jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+" #wdi_last_page").on(wdi_front.clickOrTouch,function(){wdi_front.paginationLastPage(jQuery(this),e)}),jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+" #wdi_first_page").on(wdi_front.clickOrTouch,function(){wdi_front.paginationFirstPage(jQuery(this),e)}),e.paginatorNextFlag=!1))},wdi_front.paginationFirstPage=function(e,t){if(1!=t.paginator&&1!=t.currentPage){var r=t.currentPage;t.currentPage=1,wdi_front.updatePagination(t,"custom",r),e.parent().find("#wdi_last_page").removeClass("wdi_disabled"),e.addClass("wdi_disabled")}else e.addClass("wdi_disabled")},wdi_front.paginationLastPage=function(e,t){if(1!=t.paginator&&t.currentPage!=t.paginator){var r=t.currentPage;t.currentPage=t.paginator,wdi_front.updatePagination(t,"custom",r),e.addClass("wdi_disabled"),e.parent().find("#wdi_first_page").removeClass("wdi_disabled")}},wdi_front.paginatorNext=function(e,t){var r=e.parent().find("#wdi_last_page"),i=e.parent().find("#wdi_first_page");if(t.paginatorNextFlag=!0,t.paginator!=t.currentPage||wdi_front.checkFeedFinished(t))t.paginator>t.currentPage&&(t.currentPage++,wdi_front.updatePagination(t,"next"),t.paginator>t.currentPage?r.removeClass("wdi_disabled"):r.addClass("wdi_disabled"));else{t.currentPage++;var a=t.feed_row.number_of_photos;wdi_front.loadMore(e,t,a),r.addClass("wdi_disabled")}i.removeClass("wdi_disabled")},wdi_front.paginatorPrev=function(e,t){var r=e.parent().find("#wdi_last_page"),i=e.parent().find("#wdi_first_page");1!=t.currentPage?(t.currentPage--,wdi_front.updatePagination(t,"prev"),r.removeClass("wdi_disabled"),1==t.currentPage&&i.addClass("wdi_disabled")):i.addClass("wdi_disabled")},wdi_front.updatePagination=function(e,t,r){var i="#wdi_feed_"+e.feed_row.wdi_feed_counter;switch(jQuery(i+' [wdi_page="'+e.currentPage+'"]').each(function(){jQuery(this).removeClass("wdi_hidden")}),t){case"next":r=e.currentPage-1;jQuery(i+" .wdi_feed_wrapper").height(jQuery(".wdi_feed_wrapper").height()),jQuery(i+' [wdi_page="'+r+'"]').each(function(){jQuery(this).addClass("wdi_hidden")});break;case"prev":r=e.currentPage+1;jQuery(i+" .wdi_feed_wrapper").height(jQuery(".wdi_feed_wrapper").height()),jQuery(i+' [wdi_page="'+r+'"]').each(function(){jQuery(this).addClass("wdi_hidden")});break;case"custom":(r=r)!=e.currentPage&&(jQuery(i+" .wdi_feed_wrapper").height(jQuery(".wdi_feed_wrapper").height()),jQuery(i+' [wdi_page="'+r+'"]').each(function(){jQuery(this).addClass("wdi_hidden")}))}e.paginatorNextFlag=!1,jQuery(i+" .wdi_feed_wrapper").css("height","auto"),jQuery(i+" #wdi_current_page").text(e.currentPage)},wdi_front.loadMore=function(e,t){var r=0;if(""!=e&&void 0!==e&&"initial"!=e&&"initial-keep"!=e)var i=window[e.parent().parent().parent().parent().attr("id")];if(void 0!==t)i=t;for(var a=0,d=0,o=0;o<i.userSortFlags.length;o++)if(!0===i.userSortFlags[o].flag){a++;for(var n=0;n<i.usersData.length;n++)i.userSortFlags[o].id===i.usersData[n].user_id&&"finished"===i.usersData[n].finished&&d++}if(a!==d||0==a){i.auto_trigger=""===e,wdi_front.ajaxLoader(i),"masonry"===i.feed_row.feed_type&&"pagination"==i.feed_row.feed_display_view&&jQuery("#wdi_feed_"+wdi_front.feed_counter+" .wdi_full_caption").each(function(){jQuery(this).find(".wdi_photo_title").trigger(wdi_front.clickOrTouch)});for(o=0;o<i.usersData.length;o++)"finished"===i.usersData[o].finished&&r++;r===i.usersData.length&&(wdi_front.allImagesLoaded(i),jQuery("#wdi_feed_"+i.feed_row.wdi_feed_counter+" .wdi_load_more").remove());var s=i.usersData;i.loadMoreDataCount=i.feed_users.length;for(o=0;o<s.length;o++){var _=s[o].pagination,f={user_id:s[o].user_id,username:s[o].username};if(""!=_.next_url&&null!=_.next_url&&void 0!==_.next_url){var l=_.next_url;wdi_front.loadMoreRequest(f,l,i,e)}else"initial-keep"==e&&(i.temproraryUsersData[o]=i.usersData[o]),i.loadMoreDataCount--,wdi_front.checkForLoadMoreDone(i,e)}}},wdi_front.loadMoreRequest=function(e,t,r,i){if(r.mediaRequestsDone){r.usersData;var a="",d=function(t){if(""===t||void 0===t||null==t)return a=wdi_front_messages.network_error,r.loadMoreDataCount--,void wdi_front.show_alert(a,t,r);if(void 0!==t.meta&&void 0!==t.meta.error_type&&wdi_front.show_alert(!1,t,r),void 0!==t.meta&&void 0!==t.meta.code&&200!=t.meta.code)return a=t.meta.error_message,r.loadMoreDataCount--,void wdi_front.show_alert(a,t,r);t.user_id=e.user_id,t.username=e.username;for(var d=0;d<r.usersData.length;d++)t.user_id===r.usersData[d].user_id&&("#"===t.user_id[0]&&(t.data=wdi_front.appendRequestHashtag(t.data,t.user_id)),"initial-keep"==i&&(r.temproraryUsersData[d]=r.usersData[d]),r.usersData[d]=t,r.loadMoreDataCount--);wdi_front.checkForLoadMoreDone(r,i)};"#"!==e.username[0]?r.instagram.requestByUrl(t,{success:d}):r.instagram.getTagRecentMedia(e.username,{success:d},t,r.feed_row.hashtag_top_recent)}},wdi_front.checkForLoadMoreDone=function(e,t){var r=e.feed_row.load_more_number,i=e.feed_row.number_of_photos;if(0==e.loadMoreDataCount){e.temproraryUsersData=wdi_front.mergeData(e.temproraryUsersData,e.usersData);var a=wdi_front.getArrayContentLength(e.temproraryUsersData,"data");if("initial-keep"==t&&(t="initial"),"initial"==t)a<i&&!wdi_front.userHasNoPhoto(e,e.temproraryUsersData)&&e.instagramRequestCounter<=e.maxConditionalFiltersRequestCount?wdi_front.loadMore("initial",e):(e.usersData=e.temproraryUsersData,wdi_front.displayFeed(e),wdi_front.applyFilters(e),e.temproraryUsersData=[]);else if(a<r&&!wdi_front.userHasNoPhoto(e,e.temproraryUsersData)&&e.instagramRequestCounter<=e.maxConditionalFiltersRequestCount)wdi_front.loadMore(void 0,e);else{if(e.usersData=e.temproraryUsersData,!wdi_front.activeUsersCount(e))return;wdi_front.displayFeed(e,r),wdi_front.applyFilters(e),e.temproraryUsersData=[]}}},wdi_front.allDataHasFinished=function(e){for(var t=0,r=0;r<e.dataStorageRaw.length;r++)0==e.dataStorageRaw[r].length()&&1==e.dataStorageRaw[r].locked&&t++;return t==e.dataStorageRaw.length},wdi_front.mergeData=function(e,t){for(var r=0;r<t.length;r++)if(void 0!==e[r]){if("finished"==t[r].finished)continue;if(void 0===e[r].pagination.next_max_id&&void 0===e[r].pagination.next_max_like_id)continue;e[r].data=e[r].data.concat(t[r].data),e[r].pagination=t[r].pagination,e[r].user_id=t[r].user_id,e[r].username=t[r].username,e[r].meta=t[r].meta}else e.push(t[r]);return e},wdi_front.brokenImageHandler=function(e){var t=e.src.split("/p/");if(void 0!==t[0]&&void 0!==t[1]&&"https://www.instagram.com"!==t[0]){var r=wdi_baseName(t[0])+"/p/"+t[1];e.src=r}else e.src=wdi_url.plugin_url+"images/missing.png";return e.onerror="",!0},wdi_front.ajaxLoader=function(e){var t=e.feed_row.wdi_feed_counter,r=jQuery("#wdi_feed_"+t);"load_more_btn"==e.feed_row.feed_display_view&&(r.find(".wdi_load_more").addClass("wdi_hidden"),r.find(".wdi_spinner").removeClass("wdi_hidden"))},wdi_front.allImagesLoaded=function(e){var t=wdi_front.getDataLength(e);e.mediaRequestsDone||jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").remove("wdi_nomedia"),0!=t||!e.mediaRequestsDone||0!=e.feed_row.conditional_filters.length&&0!=e.feed_row.conditional_filter_enable||jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").append("<p class='wdi_nomedia'>"+wdi_front_messages.feed_nomedia+"</p>");var r=e.feed_row.wdi_feed_counter,i=jQuery("#wdi_feed_"+r);"load_more_btn"==e.feed_row.feed_display_view&&(i.find(".wdi_load_more").removeClass("wdi_hidden"),i.find(".wdi_spinner").addClass("wdi_hidden")),i.trigger("wdi_feed_loaded")},wdi_front.show=function(e,t){var r,i,a,d=t.feed_row.wdi_feed_counter,o=jQuery("#wdi_feed_"+d+" .wdi_feed_container");switch(e){case"header":r={feed_thumb:t.feed_row.feed_thumb,feed_name:t.feed_row.feed_name},i=wdi_front.getHeaderTemplate()(r),a=o.find(".wdi_feed_header").html(),o.find(".wdi_feed_header").html(a+i)}},wdi_front.getUserTemplate=function(e,t){var r,i,a=e.dataCount;switch(t[0]){case"#":r="//instagram.com/explore/tags/"+t.substr(1,t.length);break;default:r="//instagram.com/"+t}i="onclick='"+('window.open("'+r+'","_blank")')+"'";var d='<div class="wdi_single_user" user_index="<%=user_index%>"><div class="wdi_header_user_text <%=hashtagClass%>"><div class="wdi_user_img_wrap"><img onerror="wdi_front.brokenImageHandler(this);" src="<%= user_img_url%>">';return a>1&&(d+='<div  title="'+wdi_front_messages.filter_title+'" class="wdi_filter_overlay"><div  class="wdi_filter_icon"><span onclick="wdi_front.addFilter(<%=user_index%>,<%=feed_counter%>);" class="tenweb-i tenweb-i-filter"></span></div></div>'),d+="</div>",d+="<h3 "+i+"><%= user_name%></h3>","#"!==t[0]?("1"==e.feed_row.follow_on_instagram_btn&&(d+='<div class="wdi_user_controls"><div class="wdi_follow_btn" onclick="window.open(\'//instagram.com/<%= user_name%>\',\'_blank\')"><span> '+wdi_front_messages.follow+"</span></div></div>"),d+='<div class="wdi_media_info"><p class="wdi_posts"><span class="tenweb-i tenweb-i-camera-retro"></span><%= counts.media%></p><p class="wdi_followers"><span class="tenweb-i tenweb-i-user"></span><%= counts.followed_by%></p></div>'):d+='<div class="wdi_user_controls"></div><div class="wdi_media_info"><p class="wdi_posts"><span class="tenweb-i tenweb-i-camera-retro"></span><%= counts.media%></p><p class="wdi_followers"><span></span></p></div>',d+='<div class="wdi_clear"></div>',1==a&&"#"!==t[0]&&"1"==e.feed_row.display_user_info&&(d+='<div class="wdi_bio"><%= bio%></div>',d+='<div class="wdi_website"><a target="_blank" href="<%= website_url%>" ><%= website%></a></div>'),d+="</div></div>",_.template(d)},wdi_front.getHeaderTemplate=function(){return _.template('<div class="wdi_header_wrapper"><div class="wdi_header_img_wrap"><img src="<%=feed_thumb%>"></div><div class="wdi_header_text"><%=feed_name%></div><div class="wdi_clear"></div>')},wdi_front.addFilter=function(e,t){var r=window["wdi_feed_"+t];if(!(r.dataCount<2)&&0==r.nowLoadingImages){var i=jQuery("#wdi_feed_"+r.feed_row.wdi_feed_counter+'_users [user_index="'+e+'"]');i.find(".wdi_filter_overlay").toggleClass("wdi_filter_active_bg"),i.find(".wdi_header_user_text h3").toggleClass("wdi_filter_active_col"),i.find(".wdi_media_info").toggleClass("wdi_filter_active_col"),i.find(".wdi_follow_btn").toggleClass("wdi_filter_active_col"),r.customFilterChanged=!0,0==r.userSortFlags[e].flag?r.userSortFlags[e].flag=!0:r.userSortFlags[e].flag=!1;for(var a=0,d=0;d<r.userSortFlags.length;d++)1==r.userSortFlags[d].flag&&a++;"pagination"==r.feed_row.feed_display_view&&(r.resIndex=0),0!=a?(wdi_front.filterData(r),wdi_front.displayFeed(r)):(r.customFilteredData=r.dataStorageList,wdi_front.displayFeed(r)),"pagination"==r.feed_row.feed_display_view&&(r.paginator=Math.ceil(r.imageIndex/parseInt(r.feed_row.pagination_per_page_number)),r.currentPage=r.paginator,wdi_front.updatePagination(r,"custom",1),jQuery("#wdi_first_page").removeClass("wdi_disabled"),jQuery("#wdi_last_page").addClass("wdi_disabled"))}},wdi_front.filterData=function(e){var t=e.userSortFlags;e.customFilteredData=[];for(var r=0;r<e.dataStorageList.length;r++)for(var i=0;i<t.length;i++)(void 0!==e.dataStorageList[r].user.id&&e.dataStorageList[r].user.id==t[i].id||e.dataStorageList[r].wdi_hashtag==t[i].name)&&1==t[i].flag&&e.customFilteredData.push(e.dataStorageList[r])},wdi_front.applyFilters=function(e){for(var t=0;t<e.userSortFlags.length;t++)if(1==e.userSortFlags[t].flag){jQuery("#wdi_feed_"+e.feed_row.wdi_feed_counter+'[user_index="'+t+'"]');wdi_front.addFilter(t,e.feed_row.wdi_feed_counter),wdi_front.addFilter(t,e.feed_row.wdi_feed_counter)}},wdi_front.getImgCount=function(e){for(var t=e.dataStorage,r=0,i=0;i<t.length;i++)r+=t[i].length;return r},wdi_front.parseLighboxData=function(e,t){var r=e.dataStorage,i=e.feed_row.sort_images_by,a=e.feed_row.display_order,d=wdi_front.sortingOperator(i,a),o=[],n=[],s={};if(1==t)o=e.customFilteredData;else{for(var _=0;_<r.length;_++)for(var f=0;f<r[_].length;f++)o.push(r[_][f]);o.sort(d)}for(_=0;_<o.length;_++){var l=void 0!==o[_].media_url?o[_].media_url:wdi_url.plugin_url+"images/video_missing.png";if(void 0===o[_].media_url)if("carousel"===o[_].type)l=o[_].carousel_media[0].images.standard_resolution.url;s={alt:"",avg_rating:"",comment_count:o[_].comments.count,date:wdi_front.convertUnixDate(o[_].created_time),description:wdi_front.getDescription(null!==o[_].caption?wdi_front.escape_tags(o[_].caption.text):""),filename:wdi_front.getFileName(o[_]),filetype:wdi_front.getFileType(o[_]),hit_count:"0",id:o[_].id,image_url:o[_].link,number:0,rate:"",rate_count:"0",username:o[_].user.username,profile_picture:o[_].user.profile_picture,thumb_url:l,comments_data:o[_].comments.data,images:o[_].images,carousel_media:void 0!==o[_].carousel_media?o[_].carousel_media:null},n.push(s)}return n},wdi_front.convertUnixDate=function(e){var t=parseInt(e),r=new Date(0);r.setUTCSeconds(t);var i=r.getFullYear()+"-"+r.getMonth()+"-"+r.getDate();return i+=" "+r.getHours()+":"+r.getMinutes()},wdi_front.getDescription=function(e){return e=e.replace(/\r?\n|\r/g," ")},wdi_front.getFileName=function(e){var t=e.link;if("video"===e.type&&e.hasOwnProperty("videos")&&null!=e.videos.standard_resolution)return e.videos.standard_resolution.url;var r=t.split("/");return r[r.length-2]},wdi_front.getFileType=function(e){return"video"==e.type&&e.hasOwnProperty("videos")?"EMBED_OEMBED_INSTAGRAM_VIDEO":"EMBED_OEMBED_INSTAGRAM_IMAGE"},wdi_front.array_max=function(e){for(var t=e[0],r=0,i=1;i<e.length;i++)t<e[i]&&(t=e[i],r=i);return{value:t,index:r}},wdi_front.array_min=function(e){for(var t=e[0],r=0,i=1;i<e.length;i++)t>e[i]&&(t=e[i],r=i);return{value:t,index:r}},wdi_front.activeUsersCount=function(e){for(var t=0,r=0;r<e.usersData.length;r++)"finished"!=e.usersData[r].finished&&t++;return t},wdi_front.checkMediaResponse=function(e,t){return""==e||void 0===e||null==e?(errorMessage=wdi_front_messages.connection_error,wdi_front.show_alert(errorMessage,e,t),!1):""!=e&&void 0!==e&&null!=e&&200!=e.meta.code?(errorMessage=e.meta.error_message,wdi_front.show_alert(errorMessage,e,t),!1):e},wdi_front.stripHashtag=function(e){switch(e[0]){case"#":return e.substr(1,e.length);default:return e}},wdi_front.getInputType=function(e){switch(e[0]){case"#":return"hashtag";case"%":return"location";default:return"user"}},wdi_front.regexpTestCaption=function(e,t){var r=!1,i=!1,a=t.replace(/[-[\]{}()*+?.,\\^$|]/g,"\\$&"),d=new RegExp("(?:^|\\s)"+a+"(?:^|\\s)"),o=new RegExp("(?:^|\\s)"+a,"g");for(null!=d.exec(e)&&(r=!0);null!=(match=o.exec(e));)i=!0;return 1==r||1==i},wdi_front.replaceNewLines=function(e){var t,r=[];for(e=e.replace(/\r?\n|\r/g,"vUkCJvN2ps3t"),t=new RegExp("vUkCJvN2ps3t","g");null!=(match=t.exec(e));)r.push(match.index);for(var i=e.split("vUkCJvN2ps3t"),a=0,d=0;d<i.length;d++)""==i[d]?a++:a=0,a>0&&(i.splice(d,1),a--,d--);return e=i.join(" ")},wdi_front.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};var WDIFeed=function(e){this.data=e.data,this.dataCount=e.dataCount,this.feed_row=e.feed_row,this.usersData=e.usersData,_this=this,this.set_images_loading_flag=function(e){window.addEventListener("load",function(){e.nowLoadingImages=!1})},this.set_images_loading_flag(_this)};function wdi_extractHostname(e){return void 0===e||""===e?"":e.replace(/(^\w+:|^)\/\//,"")}WDIFeed.prototype.conditionalFilter=function(e,t){return e},WDIFeed.prototype.applyANDLogic=function(e,t){for(var r=0;r<t.length;r++)e=this.filterResponse(e,t[r]);return e},WDIFeed.prototype.applyORLogic=function(e,t){for(var r,i,a=[],d=[],o=0;o<t.length;o++)r=this.filterResponse(e,t[o]),a=a.concat(r.data),r={};for(o=0;o<a.length;o++)i=a[o],this.mediaExists(i,d)||this.mediaExists(i,this.dataStorageList)||d.push(i);return{data:d,meta:e.meta,pagination:e.pagination}},WDIFeed.prototype.applyNORLogic=function(e,t){for(var r=e,i=this.applyORLogic(e,t,this),a=[],d=0;d<r.data.length;d++)this.mediaExists(r.data[d],i.data)||a.push(r.data[d]);return{data:a,meta:r.meta,pagination:r.pagination}},WDIFeed.prototype.mediaExists=function(e,t){for(var r=0;r<t.length;r++)if(e.id==t[r].id)return!0;return!1},WDIFeed.prototype.filterResponse=function(e,t){switch(t.filter_type){case"hashtag":return this.filterByHashtag(e,t);case"username":return this.filterByUsername(e,t);case"mention":return this.filterByMention(e,t);case"description":return this.filterByDescription(e,t);case"location":return this.filterByLocation(e,t);case"url":return this.filterByUrl(e,t)}},WDIFeed.prototype.filterByHashtag=function(e,t){for(var r,i=[],a=0;a<e.data.length;a++)if(void 0!==(r=e.data[a]).tags)for(var d=0;d<r.tags.length;d++){tag=r.tags[d];var o=tag.toLowerCase(),n=t.filter_by.toLowerCase();o.trim()==n.trim()&&i.push(r)}return{data:i,meta:e.meta,pagination:e.pagination}},WDIFeed.prototype.filterByUsername=function(e,t){for(var r,i=[],a=0;a<e.data.length;a++)(r=e.data[a]).user.username.toLowerCase()==t.filter_by.toLowerCase()&&i.push(r);return{data:i,meta:e.meta,pagination:e.pagination}},WDIFeed.prototype.filterByMention=function(e,t){for(var r,i=[],a=0;a<e.data.length;a++)null!==(r=e.data[a]).caption&&-1!=r.caption.text.toLowerCase().indexOf("@"+t.filter_by.toLowerCase())&&i.push(r);return{data:i,meta:e.meta,pagination:e.pagination}},WDIFeed.prototype.filterByDescription=function(e,t){for(var r,i,a=[],d=0;d<e.data.length;d++)if(null!==(r=e.data[d]).caption){i=r.caption.text.toLowerCase(),i=wdi_front.replaceNewLines(i);var o=t.filter_by.toLowerCase();wdi_front.regexpTestCaption(i,o)&&a.push(r)}return{data:a,meta:e.meta,pagination:e.pagination}},WDIFeed.prototype.filterByLocation=function(e,t){for(var r,i=[],a=0;a<e.data.length;a++)null!==(r=e.data[a]).location&&r.location.id==t.filter_by&&i.push(r);return{data:i,meta:e.meta,pagination:e.pagination}},WDIFeed.prototype.filterByUrl=function(e,t){var r,i=[];t.filter_by=this.getIdFromUrl(t.filter_by);for(var a=0;a<e.data.length;a++)null!==(r=e.data[a]).link&&this.getIdFromUrl(r.link)==t.filter_by&&i.push(r);return{data:i,meta:e.meta,pagination:e.pagination}},WDIFeed.prototype.getIdFromUrl=function(e){for(var t=e.split("/"),r=!1,i=0;i<t.length;i++)if("p"==t[i]&&void 0!==t[i+1]){r=t[i+1];break}return r},WDIFeed.prototype.avoidDuplicateMedia=function(e){var t=e.data,r=[];void 0===t&&(t=[]);for(var i=0;i<t.length;i++)this.mediaExists(t[i],this.dataStorageList)||this.mediaExists(t[i],r)||this.mediaExists(t[i],this.conditionalFilterBuffer)||r.push(t[i]);return this.conditionalFilterBuffer=this.conditionalFilterBuffer.concat(r),{data:r,meta:e.meta,pagination:e.pagination}},WDIFeed.prototype.storeRawData=function(e,t){var r=this;if("object"==typeof this[t]&&"number"==typeof this[t].length)for(var i=0;i<e.length;i++){var a="";wdi_front.isHashtag(e[i].user_id)?void 0!==e[i].pagination.cursors&&(a=e[i].pagination.cursors.after):"liked"==r.feed_row.liked_feed?void 0===(a=e[i].pagination.next_max_like_id)&&(a=""):(null==e[i].pagination&&(e[i].pagination=[]),void 0===(a=e[i].pagination.next_max_id)&&(a="")),void 0===this[t][i]?this[t].push({data:e[i].data,index:0,locked:!1,hash_id:a,usersDataFinished:!1,userId:e[i].user_id,length:function(){return this.data.length-this.index},getData:function(e){var t=this.data.slice(this.index,this.index+e);if(this.index+=Math.min(e,this.length()),this.index==this.data.length&&1==this.locked&&0==this.usersDataFinished)for(var i=0;i<r.usersData.length;i++)if(r.usersData[i].user_id==this.userId){r.usersData[i].finished="finished",this.usersDataFinished=!0;break}return t}}):0==this[t][i].locked&&(a!=this[t][i].hash_id?(this[t][i].data=this[t][i].data.concat(e[i].data),this[t][i].hash_id=a):this[t][i].locked=!0)}},wdi_front.updateUsersIfNecessary=function(e){for(var t=e.feed_users,r=!1,i=0;i<t.length;i++)"#"!=t[i].username.substr(0,1)?""!=t[i].id&&"username"!=t[i].id||(r=!0,e.instagram.searchForUsersByName(t[i].username,{success:function(r){if(void 0!==r.meta&&void 0!==r.meta.error_type&&wdi_front.show_alert(!1,r,e),200==r.meta.code&&r.data.length>0){for(var i=!1,a=0;a<r.data.length;a++)if(r.data[a].username==r.args.username){i=!0;break}if(i)for(var d=0;d<t.length;d++)r.data[a].username==t[d].username&&(t[d].id=r.data[a].id)}for(var o=!1,n=0;n<t.length;n++)if(""==t[n].id||"username"==t[n].id){o=!0;break}o||(e.feed_row.feed_users=JSON.stringify(t),wdi_front.init(e))},username:t[i].username})):t[i].id=t[i].username;return r},void 0!==wdi_ajax.ajax_response?jQuery(document).one("ajaxStop",function(){"not_declared"!=wdi_front.type&&(wdi_front.clickOrTouch=wdi_front.detectEvent(),wdi_front.globalInit())}):jQuery(document).ready(function(){"not_declared"!=wdi_front.type&&(wdi_front.clickOrTouch=wdi_front.detectEvent(),wdi_front.globalInit())}),jQuery(document).ready(function(){setTimeout(function(){"1"===wdi_front_messages.show_alerts&&"I"!==jQuery(".wdi_check_fontawesome .tenweb-i-instagram").prop("tagName")&&console.log("Font Awesome is not loaded properly. Please ask for support https://wordpress.org/support/plugin/wd-instagram-feed/")},2e3)});